@{
    ViewData["Title"] = "Home Page";
}

<div class="col-4">
    <form method="post" enctype="multipart/form-data" asp-controller="Home" asp-action="Index">
        <div class="mb-3">
            <input type="file" name="file" class="form-control" onchange="handleFileSelection()" />
        </div>
        <div class="mb-3">
            <input type="submit" value="Upload file" class="btn btn-primary" id="uploadButton" disabled />
            <span class="@((ViewBag.Message != null && ViewBag.Message.Contains("uploaded succesfully")) ? "text-success" : "text-danger")">
                @ViewBag.Message
            </span>
        </div>
        <div class="mt-3">
            <input type="button" value="See the Tree Structure" class="btn btn-secondary" onclick="redirectToTreeStructure()" />
        </div>
    </form>
</div>


<script>
    function handleFileSelection() {
        var fileInput = document.querySelector('input[type="file"]');
        var uploadButton = document.getElementById('uploadButton');

        uploadButton.disabled = !fileInput.files || fileInput.files.length === 0;
    }

    function redirectToTreeStructure() {
        window.location.href = '/Home/Tree';
    }
</script>